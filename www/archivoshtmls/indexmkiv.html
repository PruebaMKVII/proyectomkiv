<html lang="en"><head>
	<meta charset="UTF-8">
	<title>Trivial con Javascript | Pablo Monteserín</title>
	        <meta name="description" content="Ejemplo un juego de preguntas tipo trivial que utiliza Javascript en el que tanto las preguntas como las respuestas se van reordenando aleatoriamente">

<!-- Latest compiled and minified JS -->
<script src="https://code.jquery.com/jquery.js"></script>
<link rel="stylesheet" href="css/indexmkiv.css" />



<link href="jquery-mobile/jquery.mobile.theme-1.0.min.css" rel="stylesheet" type="text/css"/>
<link href="jquery-mobile/jquery.mobile.structure-1.0.min.css" rel="stylesheet" type="text/css"/>


<div data-role="page" id="page1">
  <div data-role="header"  id="cabecera">
    <h1>Inicio</h1>
  </div>
  <div data-role="content" id="cuerpo">  
    <ul data-role="listview">
      <li><a href="#page2">Trivia</a></li>
                        
    </ul>    
  </div>
  <div id="pieConBanner">
  </div>





</head>
<body>
<h1><br>Marvel Test</h1><br><br>
	<div id="pregunta">¿Quien descubrió América?</div>
	<div id="respuestas"><input type="radio" name="pp" value="0"><label>Yo mismo</label><br><input type="radio" name="pp" value="1"><label>Tú</label><br><input type="radio" name="pp" value="2"><label>Colón</label><br><input type="radio" name="pp" value="3"><label>El Fari</label><br></div>

<input type="button" value="a ver si acerté" onclick="comprobar()">
	<script>
		var preguntas = [
		"¿Quien descubrió América?",
		"¿Quién es el mayor superheroe de todos los tiempos?",
		"¿Por qué lo pájaros pían?"

		];
		var respuestas = [
		["Colón", "El Fari", "Yo mismo", "Tú"],
		["Spiderman", "Batman", "Yo mismo", "Tú mismo"],
		["Tienen hambre", "Tienen frío", "Están contentos", "Están tristes"]

		];
jugar();

		var indicie_respuesta_correcta;

function jugar(){
			var indice_aleatorio = Math.floor(Math.random()*preguntas.length);


		var respuestas_posibles = respuestas[indice_aleatorio];


		var posiciones = [0,1,2,3];
		var respuestas_reordenadas = [];

		var ya_se_metio = false;
		for(i in respuestas_posibles){
			var posicion_aleatoria = Math.floor(Math.random()*posiciones.length);
			if(posicion_aleatoria==0 && ya_se_metio == false){
				indicie_respuesta_correcta =i;
				ya_se_metio = true;
			}
			respuestas_reordenadas[i] = respuestas_posibles[posiciones[posicion_aleatoria]];
			posiciones.splice(posicion_aleatoria, 1);
		}

		var txt_respuestas="";
		for(i in respuestas_reordenadas){
			txt_respuestas += '<input type="radio" name="pp" value="'+i+'"><label>'+respuestas_reordenadas[i]+'</label><br>';
		}

		document.getElementById("respuestas").innerHTML = txt_respuestas;
		document.getElementById("pregunta").innerHTML = preguntas[indice_aleatorio];

}
function comprobar(){
if (respuesta = $("input[type=radio]:checked").val()) {
//var 
//alert(respuesta);
	//alert(indicie_respuesta_correcta);
	if(respuesta ==indicie_respuesta_correcta){
		alert("que bien!");
	}else{
		alert("me tiro por un puente");
	}
	jugar();

}else{
	alert("No a seleccionado ninguna opción");
}
	

	
}
	</script>


</body></html>